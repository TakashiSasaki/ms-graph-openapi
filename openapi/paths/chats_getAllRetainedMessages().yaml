description: Provides operations to call the getAllRetainedMessages method.
get:
  tags:
    - chats.chat
  summary: Invoke function getAllRetainedMessages
  description: >-
    Get all retained messages from all chats that a user is a participant in,
    including one-on-one chats, group chats, and meeting chats. To learn more
    about how to use the Microsoft Teams export APIs to export content, see
    Export content with the Microsoft Teams export APIs.
  externalDocs:
    description: Find more info here
    url: >-
      https://learn.microsoft.com/graph/api/chat-getallretainedmessages?view=graph-rest-1.0
  operationId: chats.getAllRetainedMessages
  parameters:
    - $ref: ..\components\parameters\top.yaml
    - $ref: ..\components\parameters\skip.yaml
    - $ref: ..\components\parameters\search.yaml
    - $ref: ..\components\parameters\filter.yaml
    - $ref: ..\components\parameters\count.yaml
    - name: $select
      in: query
      description: Select properties to be returned
      style: form
      explode: false
      schema:
        uniqueItems: true
        type: array
        items:
          type: string
    - name: $orderby
      in: query
      description: Order items by property values
      style: form
      explode: false
      schema:
        uniqueItems: true
        type: array
        items:
          type: string
    - name: $expand
      in: query
      description: Expand related entities
      style: form
      explode: false
      schema:
        uniqueItems: true
        type: array
        items:
          type: string
  responses:
    2XX:
      description: Success
      content:
        application/json:
          schema:
            title: Collection of chatMessage
            type: object
            allOf:
              - $ref: >-
                  ..\components\schemas\BaseCollectionPaginationCountResponse.yaml
              - type: object
                properties:
                  value:
                    type: array
                    items:
                      $ref: ..\components\schemas\microsoft.graph.chatMessage.yaml
    4XX:
      $ref: ..\components\responses\error.yaml
    5XX:
      $ref: ..\components\responses\error.yaml
  x-ms-docs-operation-type: function
  x-ms-pageable:
    nextLinkName: '@odata.nextLink'
    operationName: listMore
